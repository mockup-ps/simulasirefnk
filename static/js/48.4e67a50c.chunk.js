(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[48],{720:function(e,t,c){"use strict";c.r(t);var n=c(165),i=c(43),r=c(628),a=c(626),d=(c(672),c(1)),s=function(){return"No Data :("},l=c(632),j=c.n(l),b=c(674),o=c(675),u=c(719),h=c(718),O=Object(h.a)("https://ctvjpxocqeajngziaxji.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYyMzE4Mjc3OSwiZXhwIjoxOTM4NzU4Nzc5fQ.pCQD8_U0cgWJtgLbOh90kUGpxpOmpwzDmsfwKzj7PwE"),x=c(20),m={"01":{"02":{parent:"XX",directchild:["03"],indirectchild:["04","07","08"]},"03":{parent:"02",directchild:["04"],indirectchild:["07","08"]},"04":{parent:"03",directchild:["07"],indirectchild:["08"]},"07":{parent:"04",directchild:["08"],indirectchild:[]},"08":{parent:"07",directchild:[],indirectchild:[]}},"02":{"02":{parent:"XX",directchild:["03","04"],indirectchild:["07","08"]},"03":{parent:"02",directchild:["07"],indirectchild:[]},"04":{parent:"02",directchild:["08"],indirectchild:[]},"07":{parent:"03",directchild:[],indirectchild:[]},"08":{parent:"04",directchild:[],indirectchild:[]}},"03":{},"04":{"02":{parent:"XX",directchild:["04"],indirectchild:["05","06","08"]},"04":{parent:"02",directchild:["05"],indirectchild:["06","08"]},"05":{parent:"04",directchild:["08","06"],indirectchild:[]},"06":{parent:"05",directchild:[],indirectchild:[]},"08":{parent:"05",directchild:[],indirectchild:[]}},"05":{"02":{parent:"XX",directchild:["03"],indirectchild:["03","07","08"]},"03":{parent:"02",directchild:["07"],indirectchild:["08"]},"07":{parent:"03",directchild:["08"],indirectchild:[]},"08":{parent:"07",directchild:[],indirectchild:[]}}},f=[{kode:"01",value:"Komoditas"},{kode:"02",value:"Subkomoditas"},{kode:"03",value:"Jenis Penggunaan"},{kode:"04",value:"Jenis Barang"},{kode:"05",value:"Kategori Barang"},{kode:"06",value:"Varians"},{kode:"07",value:"Standard Mutu"},{kode:"08",value:"Kode HS"},{kode:"09",value:"Nama Latin"}],p=function(e){var t=Object(d.useState)([]),c=Object(r.a)(t,2),s=c[0],l=c[1],h=Object(d.useState)({}),p=Object(r.a)(h,2),v=p[0],k=p[1],g=Object(d.useState)({}),w=Object(r.a)(g,2),y=w[0],S=w[1];Object(d.useEffect)((function(){if(!e.modal){var t=Object(i.a)({},y),c=Object(i.a)({},v);s.map((function(e){t[e[0]]="",c[e[0]]=[]})),S(t),k(c)}}),[e.modal]),Object(d.useEffect)((function(){for(var t=Object(i.a)({},y),c=m[e.komoditas],r=Object.entries(c),a=0,d=r;a<d.length;a++){t[d[a][0]]=""}S(t),l(r),N(r[0][0]).then((function(t){var c=t.filter((function(t){return t.kd_parent==e.komoditas})),i=r[0][0];k(Object(n.a)({},i,c))}))}),[e.komoditas]);var N=function(){var e=Object(b.a)(j.a.mark((function e(t){var c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.from("tr_ref_nk").select("value, label, kd_parent").eq("kd_grup",t);case 2:return c=e.sent,n=c.data,c.error,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"mb-2",children:Object(x.jsx)("b",{style:{borderBottom:"2px solid grey"},children:"Data Spesifik"})}),Object(x.jsx)(a.wb,{className:"d-flex flex-row",children:s.map((function(e){return Object(x.jsx)(a.u,{name:e[0],md:"3",children:Object(x.jsxs)(a.K,{name:e[0],children:[Object(x.jsx)(a.cb,{name:e[0],children:f.filter((function(t){return t.kode==e[0]}))[0].value}),Object(x.jsx)(u.a,{onChange:function(e,t){return function(e,t){var c,n=Object(i.a)({},v),r=Object(i.a)({},y),a=s.filter((function(e){return e[0]==t.name}))[0][1].directchild,d=s.filter((function(e){return e[0]==t.name}))[0][1].indirectchild,l=a.concat(d),u=Object(o.a)(l);try{for(u.s();!(c=u.n()).done;){var h=c.value;n[h]=[],r[h]=""}}catch(O){u.e(O)}finally{u.f()}r[t.name]=e,k(n),S(r),new Promise(function(){var t=Object(b.a)(j.a.mark((function t(c,n){var r,d,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Object(i.a)({},v),d=j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(a[n]).then((function(t){var c=t.filter((function(t){return t.kd_parent==e.value}));r[a[n]]=c}));case 2:a.length-1==n&&c(r);case 3:case"end":return t.stop()}}),t)})),t.t0=j.a.keys(a);case 3:if((t.t1=t.t0()).done){t.next=8;break}return s=t.t1.value,t.delegateYield(d(s),"t2",6);case 6:t.next=3;break;case 8:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()).then((function(e){k(e)}))}(e,t)},options:v[e[0]],value:y[e[0]],name:e[0]})]})})}))})]})},v=function(e){return e.komoditas&&"00"!=e.komoditas?Object(x.jsx)(p,{modal:e.modal,komoditas:e.komoditas}):Object(x.jsx)("div",{className:"mb-2",children:Object(x.jsx)("b",{children:"Harap Pilih Komoditas"})})};t.default=function(){var e=Object(d.useState)(),t=Object(r.a)(e,2),c=t[0],l=t[1],j=Object(d.useState)(!1),b=Object(r.a)(j,2),o=b[0],u=b[1],h=Object(d.useState)({}),O=Object(r.a)(h,2),m=O[0],f=O[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(a.gb,{show:o,size:"xl",onClose:function(){u(!1),f(Object(i.a)(Object(i.a)({},m),{},Object(n.a)({},"komoditas","00"))),l("00")},children:[Object(x.jsx)(a.jb,{closeButton:!0,children:Object(x.jsx)("h5",{children:"Tambah Data Bahan Baku"})}),Object(x.jsxs)(a.hb,{children:[Object(x.jsx)(a.wb,{children:Object(x.jsx)(a.u,{md:"2",children:Object(x.jsxs)(a.K,{children:[Object(x.jsx)(a.cb,{children:"Komoditas"}),Object(x.jsxs)(a.xb,{value:m.komoditas,name:"komoditas",onChange:function(e){return function(e){l(e.target.value),f(Object(i.a)(Object(i.a)({},m),{},Object(n.a)({},e.target.name,e.target.value)))}(e)},children:[Object(x.jsx)("option",{value:"00"}),Object(x.jsx)("option",{value:"01",children:"Beras"}),Object(x.jsx)("option",{value:"02",children:"Garam"}),Object(x.jsx)("option",{value:"04",children:"Daging Lembu"}),Object(x.jsx)("option",{value:"05",children:"Gula"})]})]})})}),Object(x.jsx)(a.j,{style:{borderRadius:"12px",boxShadow:"0 2px 4px rgb(0 0 0 / 10%), 0 8px 16px rgb(0 0 0 / 10%)"},children:Object(x.jsx)(a.k,{children:Object(x.jsx)(v,{modal:o,komoditas:c})})}),Object(x.jsx)(a.wb,{children:Object(x.jsx)(a.u,{md:"12",children:Object(x.jsxs)(a.K,{children:[Object(x.jsx)(a.cb,{children:"Uraian Barang"}),Object(x.jsx)(a.Lb,{})]})})}),Object(x.jsxs)(a.wb,{children:[Object(x.jsx)(a.u,{md:"6",children:Object(x.jsxs)(a.K,{children:[Object(x.jsx)(a.cb,{children:"Jumlah Barang"}),Object(x.jsx)(a.S,{type:"number"})]})}),Object(x.jsx)(a.u,{md:"6",children:Object(x.jsxs)(a.K,{children:[Object(x.jsx)(a.cb,{children:"Satuan Barang"}),Object(x.jsx)(a.xb,{})]})})]})]}),Object(x.jsx)(a.ib,{children:Object(x.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(x.jsx)("div",{className:"mr-3",children:Object(x.jsx)(a.f,{className:"btn btn-success",children:"Simpan"})}),Object(x.jsx)("div",{children:Object(x.jsx)(a.f,{className:"btn btn-danger",children:"Batal"})})]})})]}),Object(x.jsxs)(a.j,{children:[Object(x.jsx)(a.n,{children:Object(x.jsx)("h5",{children:"Simulasi Referensi Bahan Baku"})}),Object(x.jsxs)(a.k,{children:[Object(x.jsx)("div",{className:"d-flex flex-row justify-content-end mr-3 mb-2",children:Object(x.jsx)(a.f,{onClick:function(){return u(!0)},className:"btn btn-sm btn-success",children:"Tambah"})}),Object(x.jsx)(a.j,{style:{borderRadius:"12px"},children:Object(x.jsx)(a.k,{className:"d-flex justify-content-center align-items-center",children:Object(x.jsx)(s,{})})})]})]})]})}}}]);
//# sourceMappingURL=48.4e67a50c.chunk.js.map